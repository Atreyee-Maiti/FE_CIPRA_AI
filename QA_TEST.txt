ASSIGNMENT for CIPRO AI
1) Test Cases for LoginPage
ğŸ”´ A. Critical Functional Test Cases
TC-01: Successful login
Precondition: Valid email & password exist


Steps:


Enter valid email


Enter valid password


Tap Sign In


Expected:


API called


Success toast shown


Navigates to Personalized Impact Of Lifesytle Factors (MainActivity)



TC-02: Invalid credentials
Enter wrong email/password


Expected: â€œCredentials Mismatchâ€ toast shown, stay on login screen



TC-03: Empty email
Email empty, password filled


Expected: Stayed on the Login Page and also should show an error message [No API call (currently silent â†’ bug)]



TC-04: Empty password
Password empty, email filled


Expected: Stayed on the Login Page (No API call)



TC-05: Both fields empty
Expected: Validation message (currently missing)



TC-06: Network failure
Turn off internet


Expected:


â€œNetwork Issue encounteredâ€ toast


No crash



TC-07: Slow network / timeout
Simulate delay


Expected: App remains responsive (no freeze)



ğŸŸ  B. Edge Cases
TC-08: Email format validation
Enter invalid email format


Expected: Validation error (currently missing)



TC-09: Special characters in password
Input !@#$$%


Expected: API still works



TC-10: Long input values
Email/password > 255 chars


Expected: No crash



TC-11: Rotate screen during API call
Start login â†’ rotate device


Expected: No duplicate calls / crash



TC-12: Rapid multiple clicks
Tap Sign In multiple times quickly


Expected: Single API call (currently not handled)



TC-13: API returns 500 error
Expected: Error toast shown



TC-14: API returns unexpected body
Expected: No crash
TC-15: FLOATING BUTTON TEST CASES
Able to move the button on entire screen
On clicking on the button dialog is opened
On clicking on all the contents of the dialog  and check the items which are not supported is greyedout
Settings
Show keyboard shortcuts
Show clipboard
Show translate
Show emoji
Show on-screen keyboard
Voice
Show symbols keyboard
Switch to horizontal toolbar


ğŸŸ¡ C. Small but Valuable Test Cases
Copy-paste into fields


Autofill credentials


Keyboard â€œDoneâ€ action triggers login


Back button during API call


Background â†’ foreground app during login


Memory usage during repeated logins






âš ï¸ 2) Leaks / Risks / Bugs in Current Implementation
ğŸ”´ Security Issues
Credentials logged in console


System.out.println("username = "+ username);
System.out.println("userpassword = "+userpassword);
ğŸ‘‰ Major security leak (password exposure)

ğŸ”´ Missing Input Validation
No empty field error message


No email format validation


No password constraints



ğŸ”´ Multiple API Call Risk
Button not disabled during request
 ğŸ‘‰ Causes duplicate login calls



ğŸ”´ Lifecycle Memory Leak Risk
Retrofit callback holds Activity reference


If Activity destroyed â†’ callback may leak context



ğŸ”´ Hardcoded Base URL
.baseUrl("https://api.cipra.ai:5000/")
ğŸ‘‰ Not environment friendly (dev/stage/prod)

ğŸ”´ Poor Error Handling
Same toast for all failures


No parsing of error body


No retry mechanism



ğŸŸ  UX Issues
No loading indicator


No keyboard hiding


No error hints on input fields


No navigation guard (user can press back to login after success)



ğŸŸ  Naming / Code Quality Issues
Typo: inintActions() instead of initActions()


Method naming not Java standard (VerifyUserCredentials)


Retrofit creation inside Activity (tight coupling)



ğŸš€ 3) Improvements for Better Testing Environment
âœ… Architecture Improvements
Move API logic to Repository


Use ViewModel + LiveData / Flow


Follow MVVM or Clean Architecture


ğŸ‘‰ Enables unit testing without UI

âœ… Dependency Injection
Use Hilt / Dagger


Inject Retrofit


Mock Retrofit for tests



âœ… Testability Enhancements
Add interface abstraction for network layer


Enable mocking with Mockito



âœ… UI Test Improvements
Add loading spinner state


Disable button during request


Add error state in UI



âœ… Logging Improvements
Use Log.d() instead of System.out


Remove password logging


Add structured logging



âœ… Environment Config
Use BuildConfig for URLs


buildConfigField "String", "BASE_URL", "\"https://api.cipra.ai:5000/\""

âœ… Add Automated Tests
Unit tests
Validation logic


ViewModel login logic


Integration tests
Retrofit API mock test


UI tests (Espresso)
Button click â†’ API call


Error message display


Navigation verification



âœ… Network Testing Tools
MockWebServer for API simulation


Charles Proxy for debugging


Firebase Test Lab for device testing



â­ Recommendations 
Add analytics for login failures


Add retry logic for network issues


Add rate limiting


Add accessibility tests


Add security testing (MITM, token storage)



1) API Contract Test Checklist (Login API)
ğŸ”´ Request Validation
Verify HTTP method = POST


Verify endpoint = /login


Validate request headers


Content-Type: application/json


Authorization (if required)


Validate request body fields


username present


password present


field types correct



ğŸ”´ Response Validation
Verify status codes


200 â†’ success


401 â†’ invalid credentials


400 â†’ bad request


500 â†’ server error



ğŸŸ  Response Schema Validation
Response JSON structure matches contract


No unexpected fields


Required fields present (token, userId, etc.)



ğŸŸ  Negative Contract Tests
Missing username


Missing password


Invalid email format


SQL injection payload


Oversized payload



ğŸŸ¡ Performance Contract Tests
Response time < 2s


No schema change under load


API handles concurrent requests



